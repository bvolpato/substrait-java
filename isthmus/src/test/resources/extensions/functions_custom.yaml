%YAML 1.2
---
types:
  - name: "a_type"
  - name: "b_type"

scalar_functions:
  - name: "custom_scalar"
    description: "a custom scalar function"
    impls:
    - args:
        - name: some_arg
          value: string
      return: string
  - name: "custom_scalar_any"
    description: "a custom scalar function that takes any argument input"
    impls:
    - args:
        - name: some_arg
          value: any1
      return: string
  - name: "to_b_type"
    description: "converts a nullable a_type to a b_type"
    impls:
      - args:
          - name: arg1
            value: u!a_type?
        return: u!b_type
  - name: "custom_scalar_listany_to_listany"
    description: "custom function that takes list of any"
    impls:
      - args:
          - name: list
            value: LIST<any1>
        return: LIST<any1>
  - name: "custom_scalar_listany_any_to_listany"
    description: "custom function that takes list of any and an any scalar"
    impls:
      - args:
          - name: list
            value: LIST<any1>
          - name: val
            value: any1
        return: LIST<any1>
  - name: "custom_scalar_liststring_to_liststring"
    description: "custom function that takes list of string"
    impls:
      - args:
          - name: list
            value: LIST<string>
        return: LIST<string>
  - name: "custom_scalar_liststring_any_to_liststring"
    description: "custom function that takes list of string and an any scalar"
    impls:
      - args:
          - name: list
            value: LIST<string>
          - name: val
            value: any1
        return: LIST<string>
  - name: "custom_scalar_liststring_anyvariadic_to_liststring"
    description: "custom function that takes list of string and an any scalar"
    impls:
      - args:
          - name: list
            value: LIST<string>
          - name: val
            value: any1
        variadic:
          min: 1
        return: LIST<string>

aggregate_functions:
  - name: "custom_aggregate"
    description: "a custom aggregate function"
    impls:
      - args:
          - name: some_arg
            value: i64
        return: i64
